algo preselection
  select ALL   # This is only to see the initial event count
  select Size(AK4jets) >= 3
  select Size(AK8jets) >= 1
  select Size(megajets) == 2
  select MR > 800
  select Rsq > 0.08

algo WcategorySR
  preselection
  select Size(electronsVeto) + Size(muonsVeto) == 0
  select Size(tausVeto) == 0
  select Size(bjetsMedium) >= 1
  select Size(Wjets) >= 1
  select dphimegajets < 2.8

algo WcategoryCRQ
  preselection
  select Size(electronsVeto) + Size(muonsVeto) == 0
  select Size(tausVeto) == 0
  select Size(WjetsAntitag) >= 1
  select Size(bjetsLoose) == 0
  select dphimegajets >= 2.8

algo WcategoryCRT
  preselection
  select Size(electronsVeto) + Size(muonsVeto) == 1
  select Size(Wjets) >= 1
  select dphimegajets < 2.8
  select Size(muonsVeto) == 1 ? MTm < 100 : MTe < 100
  select Size(bjetsMedium) >= 1

algo WcategoryCRW
  preselection
  select Size(muonsVeto) + Size(electronsVeto) == 1
  select Size(WjetsMasstag) >= 1
  select dphimegajets < 2.8
  select Size(muonsVeto) == 1 ? MTm [] 30 100 : MTe [] 30 100
  select Size(bjetsLoose) == 0

algo WcategoryCRL
  select Size(AK4jets) >= 3
  select Size(AK8jets) >= 1
  select Size(megajets) == 2
  select MR > 800
  select Size(muonsVeto) + Size(electronsVeto) == 1
  select Size(muonsVeto) == 1 ? Rsqm > 0.08 : Rsqe > 0.08
  select Size(WjetsMasstag) >= 1
  select dphimegajets < 2.10
  select Size(muonsVeto) == 1 ? MTm [] 30 100 : MTe [] 30 100
  select Size(bjetsLoose) == 0

algo WcategoryCRZ
  select Size(AK4jets) >= 3
  select Size(AK8jets) >= 1
  select Size(megajets) == 2
  select MR > 800
  select (Size(muonsSel) == 2 AND Size(electronsVeto) == 0) OR (Size(electronsSel) == 2 AND Size(muonsVeto) == 0)
  select Size(muonsSel) == 2 ? {muonsSel[0]}q + {muonsSel[1]}q == 0 : {electronsSel[0]}q + {electronsSel[1]}q == 0
  select Size(muonsSel) == 2 ? Abs({muonsSel[0]}m + {muonsSel[1]}m - mZ) < 10 : Abs({electronsSel[0]}m + {electronsSel[1]}m - mZ) < 10
  select Size(muonsSel) == 2 ? Rsqmm > 0.08 : Rsqee > 0.08
  select Size(WjetsMasstag) >= 1
  select dphimegajets < 2.8

algo WcategoryCRG
  select Size(photons) == 1
  select Size(AK4jetsNopho) >= 3
  select Size(AK8jets) >= 1
  select Size(electronsVeto) + Size(muonsVeto) == 0
  select Size(tausVeto) == 0
  select Size(megajetsNopho) == 2
  select MRNopho > 800
  select Rsqpho > 0.08
  select Size(WjetsMasstag) >= 1
  select dphimegajetsNopho < 2.8

algo TopcategorySR
  preselection
  select Size(electronsVeto) + Size(muonsVeto) == 0
  select Size(tausVeto) == 0
  select Size(topjets) >= 1
  select dphimegajets < 2.8

algo TopcategoryCRQ
  preselection
  select Size(electronsVeto) + Size(muonsVeto) == 0
  select Size(tausVeto) == 0
  select Size(topjetsAntitag) >= 1
  select dphimegajets >= 2.8
  select Size(bjetsLoose) == 0

algo TopcategoryCRT
  preselection
  select Size(electronsVeto) + Size(muonsVeto) == 1
  select Size(topjets) >= 1
  select dphimegajets < 2.8
  select Size(muonsVeto) == 1 ? MTm < 100 : MTe < 100

algo TopcategoryCRW
  preselection
  select Size(muonsVeto) + Size(electronsVeto) == 1
  select Size(topjetsMasstag0b) >= 1
  select dphimegajets < 2.8
  select Size(muonsVeto) == 1 ? MTm [] 30 100 : MTe [] 30 100
  select Size(bjetsLoose) == 0

algo TopcategoryCRL
  select Size(AK4jets) >= 3
  select Size(AK8jets) >= 1
  select Size(megajets) == 2
  select MR > 800
  select Size(muonsVeto) + Size(electronsVeto) == 1
  select Size(muonsVeto) == 1 ? Rsqm > 0.08 : Rsqe > 0.08
  select Size(topjetsMasstag0b) >= 1
  select dphimegajets < 2.10
  select Size(muonsVeto) == 1 ? MTm [] 30 100 : MTe [] 30 100
  select Size(bjetsLoose) == 0

algo TopcategoryCRZ
  select Size(AK4jets) >= 3
  select Size(AK8jets) >= 1
  select Size(megajets) == 2
  select MR > 800
  select (Size(muonsSel) == 2 AND Size(electronsVeto) == 0) OR (Size(electronsSel) == 2 AND Size(muonsVeto) == 0)
  select Size(muonsSel) == 2 ? {muonsSel_0}q + {muonsSel_1}q == 0 : {electronsSel_0}q + {electronsSel_1}q == 0
  select Size(muonsSel) == 2 ? Abs({muonsSel_0}m + {muonsSel_1}m - mZ) < 10 : Abs({electronsSel_0}m + {electronsSel_1}m -  mZ) < 10
  select Size(muonsSel) == 2 ? Rsqmm > 0.08 : Rsqee > 0.08
  select Size(topjetsMasstag) >= 1
  select dphimegajets < 2.8

algo TopcategoryCRG
  select Size(photons) == 1
  select Size(AK4jetsNopho) >= 3
  select Size(AK8jets) >= 1
  select Size(electronsVeto) + Size(muonsVeto) == 0
  select Size(tausVeto) == 0
  select Size(megajetsNopho) == 2
  select MRNopho > 800
  select Rsqpho > 0.08
  select Size(topjetsMasstag) >= 1
  select dphimegajetsNopho < 2.8
